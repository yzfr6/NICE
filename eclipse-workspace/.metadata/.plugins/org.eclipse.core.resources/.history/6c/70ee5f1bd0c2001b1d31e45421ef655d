package algorithm.objects;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.List;

public class Node {

	public int db_id;
	public String code;
	public String text;
	public String type;
	
	public String contentType;
	public List<Entity> entites;
	
	
	public Node(int db_id, String code, String text, String type, String contentType, List<Entity> entites) {
		super();
		this.db_id = db_id;
		this.code = code;
		this.text = text;
		this.type = type;
		this.contentType = contentType;
		this.entites = entites;
	}

	public Node (int db_id, Connection c) throws SQLException {
		
		PreparedStatement ps = c.prepareStatement("select * from node where id = ?");
		ps.setInt(1, db_id);
		
		ResultSet rs = ps.executeQuery();
		rs.next();
		
		this.code = rs.getString("object_id");
		this.text = rs.getString("text");
		this.type = rs.getString("type");
		
		PreparedStatement ps1 = c.prepareStatement("select algorithm_entity_id from entity_single where node_id = ?");
		ps1.setInt(1, db_id);
		
		PreparedStatement ps2 = c.prepareStatement("select algorithm_entity_id from entity_and where node_id = ?");
		ps2.setInt(1, db_id);
		
		PreparedStatement ps3 = c.prepareStatement("select algorithm_entity_id from entity_or where node_id = ?");
		ps3.setInt(1, db_id);
		
		ResultSet rs1 = ps1.executeQuery();
		ResultSet rs2 = ps1.executeQuery();
		ResultSet rs3 = ps1.executeQuery();
		
		
		if (rs1.next()) {
			
		} else if (rs2.next()) {
		
		}else if (rs2.next()) {
			
		}
		
		
		
	}
}
